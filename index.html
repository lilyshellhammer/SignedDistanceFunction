<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Signed Distance Function Test</title>
</head>

<body>
    <div id="app">
        <h3>SDF</h3>
        <div class="container">
            <!--            <input id="input" type="file" onchange="init()"/>-->
            <!--            <input v-model="tileDim" placeholder="" >-->
            <!--            <img id="i" src="images/circle.jpeg">-->
            <button type="button" onclick="fn()">Try it</button>
            <br>
            <canvas id="canvas"></canvas>
        </div>
    </div>
</body>
<script>
               
    var img = new Image()
    img.src = "images/circle.jpeg";

    var c = document.getElementById("canvas");
    var context = c.getContext("2d");
    var height = img.height
    var width = img.width
    c.width = width
    c.height = height


    context.drawImage(img, 0, 0);

    //collect img data, draw image
    var imgData = context.getImageData(0, 0, canvas.width, canvas.height)
    var data = imgData.data

    // enumerate all pixels
    // each pixel's r,g,b,a datum are stored in separate sequential array elements
    var r, g, b, alpha, count = 0
    var bools = []
    for (var i = 0; i < data.length; i += 4) {
        count++
        r = data[i]
        g = data[i + 1]
        b = data[i + 2]
        alpha = data[i + 3]
        // if not white or if transparent
        if ((r + g + b) >= (225 * 3) || alpha == 0.0) {
            data[i] = 0
            data[i + 1] = 0
            data[i + 2] = 0
            bools += "0"
        } else {
            data[i] = 255
            data[i + 1] = 255
            data[i + 2] = 255
            bools += "1"
        }
    }
    //context.drawImage(img, 0, 0)

    imgData.data = data
    context.putImageData(imgData, 0, 0);
    createArray()
    //}
    
    
//function createArray(){
//    var x = 0
//    var str = [[]]
//    var temp = []
//    for (var i = 0; i < data.length / 4; i++) {
//        if(i%imgData.width == 0){
//            str += temp
//            temp = []
//        }
//        temp+= bools[i]
//    }
//    console.log(str)
//}

function distCalc(){
    var numbers = []
    for (var i = 0; i < data.length / 4; i++){
        //find distance to square with number "1"
        //calculate color 
        //replace color
    }
    //redraw
}    
    
    
    
</script>
<!--<script src="vue.min.js"></script>-->
<!--
<script>
    new Vue({
        el: '#app',
        data() {
            return {
                tileDim: "",
            }
        },
        beforeMount() {
                var img = new Image()
                img.src = "images/circle.jpeg"

                // get h and w, canvas, and image
                var c = document.getElementById("canvas");
                var context = c.getContext("2d");
                context.drawImage(img, 0, 0);

        },
        methods: {
            image: function() {

                var img = new Image()
                img.src = "images/circle.jpeg"
                var c = document.getElementById("canvas");
                var context = c.getContext("2d");
                context.drawImage(img, 0, 0);

//                var height = img.height,
//                    width = img.width
//
//                //context.drawImage(img, 0, 0);
//
//                //collect img data, draw image
//                var imgData = context.getImageData(0, 0, canvas.width, canvas.height)
//                var data = imgData.data
//
//
//                // enumerate all pixels
//                // each pixel's r,g,b,a datum are stored in separate sequential array elements
//                var r, g, b, alpha
//                for (var i = 0; i < data.length; i += 4) {
//                    r = data[i]
//                    g = data[i + 1]
//                    b = data[i + 2]
//                    alpha = data[i + 3]
//                    // if not white or if transparent
//                    if ((r != 255 && g != 255 && b != 255) || alpha != 0.0)
//                        data[i] = data[i + 1] = data[i + 1] = 0
//                }
//
//                //replace image with new
//                imgData.data = data
//                context.putImageData(imgData, 0, 0);
            }
        }
    })

</script>
-->
<style>
    body {
        margin: 0;
    }

    canvas {
        display: block;
        width: 100%;
        height: 100%;
    }

    i {
        position: absolute;
        top: 0;
    }

    body {
        font-size: 12;
        font-family: sans-serif;
        background: rgb(239, 239, 239);
    }

    .container {
        position: relative;
        margin: 10px;
        align-content: center;
    }

    h3 {
        padding-left: 20px;
    }

</style>

</html>
